<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>VueJS</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <link rel="stylesheet" href="./css/uikit.min.css" />
    <link rel="stylesheet" href="./css/select2.css" />

    <link rel="stylesheet" href="./css/selectize.css" /> 
    <!-- <link rel="stylesheet" href="./css/selectize.default.css" />  -->

    <link rel="stylesheet" href="./css/quill.core.css">
    <link rel="stylesheet" href="./css/quill.snow.css">
    <link rel="stylesheet" href="./css/quill.bubble.css">
    <link rel="stylesheet" href="./css/daterangepicker.css">
    <link rel="stylesheet" href="./css/styles.css" />
    <link rel="stylesheet" href="./css/style_builder.css" />

    <style>
    </style>

    <script src="./js/vue.min.js"></script>
    <script src="./js/jquery.min.js"></script>

    <script src="./js/vuelidate.min.js"></script>
    <script src="./js/validators.min.js"></script>
    <script src="./js/uikit.min.js"></script>
    <script src="./js/uikit-icons.min.js"></script>
    <script src="./js/select2.js"></script>

    <script src="./js/selectize.js"></script>

    <script src="./js/quill.min.js"></script>
    <script src="./js/moment.min.js"></script>
    <script src="./js/daterangepicker.js"></script>
    <script src="./js/sortable.min.js"></script>
    <script src="./js/script_common.js"></script>
    <script src="./js/editfieldmodal.js"></script>
    <script src="./js/component_builder_helpers.js"></script>
    <script src="./js/components.js"></script>
    <script src="./js/script_builder.js"></script>
</head>
<body>

    [<a href="/"><< Back</a>]

    <div id="app">

    </div>

    <script>
        $(document).ready(function () {
            coreform.formBuilder("#app", {
                dataSourceList() {
                    return [{
                        id: '12345678',
                        label: 'Countries',
                        queryable: true
                    }];
                },
                dataSource: function (id, onSuccess, query) {
                    var url = 'https://restcountries.eu/rest/v2/all?fields=name;flag;alpha3Code';
                    if (query !== undefined) url =  'https://restcountries.eu/rest/v2/name/' + query + '?fields=name;flag;alpha3Code';
                    $.ajax({
                        url: url,
                        type: "GET",
                        //contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (data) {
                            for (var i = 0; i < data.length; i++) {
                                    data[i].id = data[i].alpha3Code;
                                    data[i].text = data[i].name;
                                }
                            onSuccess(data);
                        }
                    });
                }

            });
        });
    </script>



</body>
</html>
